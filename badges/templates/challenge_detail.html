{% extends "base.html" %}

{% block content %}
<div class="container mt-5">
    <div class="card shadow-lg">
        <div class="card-header bg-primary text-white">
            <h2>{{ challenge.title }}</h2>
        </div>
        <div class="card-body">
            <p class="card-text">{{ challenge.description }}</p>
            <p><strong>Points:</strong> {{ challenge.difficulty_points }}</p>
            <p><strong>Duration:</strong> {{ challenge.duration }}</p>
            {% if challenge.badge %}
            <p><strong>Badge:</strong> {{ challenge.badge.name }}</p>
            {% endif %}

            <form method="post" action="{% url 'join_challenge' challenge.id %}">  <!-- ADD THIS FORM -->
                {% csrf_token %}
                <button type="submit" class="btn btn-success">Join Challenge</button>
            </form>

        </div>
        <div class="card-footer">
            <a href="{% url 'challenge_list' %}" class="btn btn-secondary">Back to List</a>
        </div>
    </div>
</div>
{% endblock %}